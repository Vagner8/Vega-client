<form>
  @for (indicator of fractal.controlsIndicators; track indicator) {
    @let control = fractal.getControl(indicator);
    @let formControls = fractal.getFormControls(indicator);

    @switch (control.input) {
      @case (controlInputs.New) {
        <app-select
          className="form-field"
          [label]="indicator"
          [opts]="controlInputsArray"
          [formCtr]="formControls.input" />
        <app-input [label]="indicator" [formCtr]="formControls.data" />
      }
      @case (controlInputs.Select) {
        <app-select
          className="form-field"
          [label]="indicator"
          [opts]="control.data.split(':')"
          [formCtr]="formControls.data" />
      }
      @default {
        <app-input [label]="indicator" [formCtr]="formControls.data" />
      }
    }
  }
</form>
